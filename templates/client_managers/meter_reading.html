{% extends "dashboards/client_portal_base.html" %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% block content %}
    <br>
    <div class="row justify-content-center">
        <h4 class="text-center mb-3">Meter Reading Submission</h4>
        <div class="col-sm-4">
            <div class="card">
                <div class="card-body">
                    <form action="{% url 'clients:meter_reading' contract.id %}"
                          method="post"
                          enctype="multipart/form-data">
                        {% csrf_token %}
                         {{ form | crispy }}

                        <br>
                        <div class="d-flex align-items-center justify-content-center">
                            <input type="submit" class="btn btn-secondary btn-sm mt-3" value="Submit">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <br>
{% endblock content %}
{% block extra_js %}
  <script>
   $(document).ready(function () {
        // Initially hide the fields for multiple meters
        $("#id_meter_reading_2, #id_meter_reading_3").hide();

        // Show or hide fields based on the selected meter type
        $("#meter_reading").change(function () {
          var selectedValue = $(this).val();

          if (selectedValue === "SINGLE_METER") {
            $("#id_meter_reading").show();
            $("#id_meter_reading_2, #id_meter_reading_3").hide();
          } else if (selectedValue === "MULTIPLE_METERS") {
            $("#id_single_meter").hide();
            $("#id_meter_reading_2, #id_meter_reading_3").show();
          }
        });
      });
  </script>

{% endblock extra_js %}

